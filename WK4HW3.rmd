
```{r}

#Libraries and data read-in

library(readr)
library(sf)
library(tidyverse)
library(here)
library(dplyr)

Geometries <- st_read(here("World_Countries.geojson"))
Geometries <- Geometries %>% 
  select("COUNTRY", "geometry")

GII_raw <- read.csv(here("GII_Data.csv"))

```

```{r}

#Data Manipulation + Join

GII <- GII_raw %>% 
  select("country", "gii_2010", "gii_2019") %>% 
  mutate(gii_diff = gii_2019 - gii_2010)

GII <- GII %>% 
  rename("COUNTRY" = "country")

GII_Spatial <- Geometries %>%
  left_join(GII, by = "COUNTRY")

```

```{r}

#Mapping

library(tmap)

tmap_mode("plot")

Map <- tm_shape(GII_Spatial) +
  tm_polygons(
    fill = "gii_diff", 
    palette = "viridis", 
    fill.legend = tm.legend("Inequality Index"),
    style = "quantile"
  ) +
  tm_title("Difference in GII between 2010 and 2019",
  )

```